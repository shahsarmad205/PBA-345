<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Goals | BudgetMate</title>
    <!-- Import fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <!-- External CSS -->
    <link rel="stylesheet" href="goals.css" />
    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header class="top-nav">
      <div class="logo-brand">
        <img src="budgetmate-logo.png" alt="BudgetMate Logo" class="logo" />
        <span class="logo-text">
          <span class="logo-regular">Budget</span
          ><span class="logo-bold">Mate</span>
        </span>
      </div>
      <nav class="nav-links">
        <a href="dashboard.html">Home</a>
        <a href="expenses.html">Expenses</a>
        <a href="income.html">Income</a>
        <a href="goals.html" class="active">Goals</a>
        <a href="profileSettings.html">Profile</a>
      </nav>
    </header>

    <main class="content-section">
      <h1>Goals</h1>
      <p>Set and achieve saving targets</p>

      <div class="goals-charts-container">
        <section class="goals-section">
          <div class="tab-section">
            <button class="tab-btn active" id="uncompletedTab">
              Uncompleted Goals
            </button>
            <button class="tab-btn" id="completedTab">Completed Goals</button>
          </div>
          <button class="add-goal-btn">Add Goal</button>
          <div class="goals-container" id="uncompletedGoals">
            <table class="goals-table">
              <thead>
                <tr>
                  <th>Goal</th>
                  <th>Date By</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Save for Vacation</td>
                  <td>9/13/25</td>
                </tr>
                <tr>
                  <td>Pay off Credit Card</td>
                  <td>2/25/26</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            class="goals-container"
            id="completedGoals"
            style="display: none"
          >
            <table class="goals-table">
              <thead>
                <tr>
                  <th>Goal</th>
                  <th>Completed On</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Buy New Phone</td>
                  <td>1/10/25</td>
                </tr>
                <tr>
                  <td>Pay Off Small Loan</td>
                  <td>12/15/24</td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- CHARTS SECTION -->
        <section class="charts-section">
          <!-- Chart Box 1: Where Money Went -->
          <div class="chart-box">
            <h3>Where Money Went</h3>
            <canvas id="moneyPieChart"></canvas>
          </div>
          <!-- Chart Box 2: Comparison of Monthly Saving -->
          <div class="chart-box">
            <h3>Comparison of Monthly Saving</h3>
            <canvas id="monthlyLineChart"></canvas>
          </div>
        </section>
      </div>
    </main>

    <script>
      // Tab switching between uncompleted and completed goals
      const uncompletedTab = document.getElementById("uncompletedTab");
      const completedTab = document.getElementById("completedTab");
      const uncompletedGoals = document.getElementById("uncompletedGoals");
      const completedGoals = document.getElementById("completedGoals");

      uncompletedTab.addEventListener("click", () => {
        uncompletedTab.classList.add("active");
        completedTab.classList.remove("active");
        uncompletedGoals.style.display = "block";
        completedGoals.style.display = "none";
      });

      completedTab.addEventListener("click", () => {
        completedTab.classList.add("active");
        uncompletedTab.classList.remove("active");
        uncompletedGoals.style.display = "none";
        completedGoals.style.display = "block";
      });

      // Updated Pie Chart with various shades of green
      const moneyPieCtx = document
        .getElementById("moneyPieChart")
        .getContext("2d");
      const moneyPieChart = new Chart(moneyPieCtx, {
        type: "pie",
        data: {
          labels: ["Rent", "Utilities", "Subscriptions", "Groceries"],
          datasets: [
            {
              data: [1200, 150, 75, 300],
              backgroundColor: [
                "#a1d99b", // Light green
                "#74c476", // Medium green
                "#41ab5d", // Darker green
                "#238b45", // Deep green
              ],
              hoverBackgroundColor: [
                "#92c27c",
                "#649d5c",
                "#328750",
                "#1e6838",
              ],
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
        },
      });

      // Updated Line Chart with green tones for a cohesive look
      const monthlyLineCtx = document
        .getElementById("monthlyLineChart")
        .getContext("2d");
      const monthlyLineChart = new Chart(monthlyLineCtx, {
        type: "line",
        data: {
          labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
          datasets: [
            {
              label: "Monthly Savings ($)",
              data: [200, 300, 250, 400, 350, 450, 500],
              borderColor: "#2ca02c", // Green line color
              backgroundColor: "rgba(44, 160, 44, 0.2)", // Light green fill
              fill: true,
              tension: 0.4,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: { beginAtZero: true },
          },
        },
      });
    </script>
  </body>
</html>
